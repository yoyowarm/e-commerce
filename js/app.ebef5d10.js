(function(e){function t(t){for(var o,r,c=t[0],s=t[1],l=t[2],u=0,f=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},i={app:0},a=[];function c(e){return s.p+"js/"+({ArticlePage:"ArticlePage",BrandPage:"BrandPage",BrandWall:"BrandWall",BusinessCard:"BusinessCard",CommentPage:"CommentPage",EditProfile:"EditProfile",EditQrCode:"EditQrCode",ForgetPwd:"ForgetPwd",Gift:"Gift",History:"History","Home~Store~Visit":"Home~Store~Visit",Home:"Home",Store:"Store",Visit:"Visit",Login:"Login",More:"More",MyComment:"MyComment",MyStore:"MyStore",PhoneVerify:"PhoneVerify",PrivacyPolicy:"PrivacyPolicy",Profile:"Profile",QrCode:"QrCode",ResetPassword:"ResetPassword",Scan:"Scan",Service:"Service",Setting:"Setting"}[e]||e)+"."+{ArticlePage:"3d75b438",BrandPage:"81ab7c1e",BrandWall:"0678a3de",BusinessCard:"af105e02",CommentPage:"f9337e04",EditProfile:"0f7dcb9c",EditQrCode:"ced5b038",ForgetPwd:"fe6a293f",Gift:"b49eda98",History:"ec4aeba5","Home~Store~Visit":"e26c9189",Home:"c5d96a08",Store:"2f967aa0",Visit:"e3bea801",Login:"9c2286f8",More:"3780f563",MyComment:"73b03559",MyStore:"4de0af61",PhoneVerify:"f521581b",PrivacyPolicy:"985b6d24",Profile:"00cb579e",QrCode:"096e873d",ResetPassword:"21ae415b",Scan:"998aa670",Service:"a4eaa6c4",Setting:"babf87cb","chunk-0ace75fd":"82a6545f","chunk-27396e0d":"5f4973ba","chunk-3b405e42":"7fc210fb","chunk-44f5b086":"e093d054","chunk-471e3566":"d3aff215"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={BrandPage:1,BrandWall:1,BusinessCard:1,CommentPage:1,EditProfile:1,EditQrCode:1,ForgetPwd:1,Gift:1,History:1,"Home~Store~Visit":1,Home:1,Store:1,Visit:1,Login:1,More:1,MyComment:1,MyStore:1,PhoneVerify:1,PrivacyPolicy:1,Profile:1,QrCode:1,ResetPassword:1,Scan:1,Setting:1,"chunk-0ace75fd":1,"chunk-27396e0d":1,"chunk-3b405e42":1,"chunk-44f5b086":1,"chunk-471e3566":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({ArticlePage:"ArticlePage",BrandPage:"BrandPage",BrandWall:"BrandWall",BusinessCard:"BusinessCard",CommentPage:"CommentPage",EditProfile:"EditProfile",EditQrCode:"EditQrCode",ForgetPwd:"ForgetPwd",Gift:"Gift",History:"History","Home~Store~Visit":"Home~Store~Visit",Home:"Home",Store:"Store",Visit:"Visit",Login:"Login",More:"More",MyComment:"MyComment",MyStore:"MyStore",PhoneVerify:"PhoneVerify",PrivacyPolicy:"PrivacyPolicy",Profile:"Profile",QrCode:"QrCode",ResetPassword:"ResetPassword",Scan:"Scan",Service:"Service",Setting:"Setting"}[e]||e)+"."+{ArticlePage:"31d6cfe0",BrandPage:"b46ac306",BrandWall:"2b8632b9",BusinessCard:"6877a4a3",CommentPage:"31256828",EditProfile:"618a8bb7",EditQrCode:"b6ed9b0f",ForgetPwd:"c90453c9",Gift:"375baa7b",History:"a8fa2914","Home~Store~Visit":"d0097d70",Home:"b76432c5",Store:"4cb91f39",Visit:"74ffc8a3",Login:"241e4603",More:"51525535",MyComment:"91786379",MyStore:"dfe77d21",PhoneVerify:"64002dab",PrivacyPolicy:"b479bda6",Profile:"95f4bfbb",QrCode:"3a82c70b",ResetPassword:"36e563fd",Scan:"4c9b2349",Service:"31d6cfe0",Setting:"3c7e3ad6","chunk-0ace75fd":"6fb373cb","chunk-27396e0d":"1656fcec","chunk-3b405e42":"573f47dc","chunk-44f5b086":"3ab6c38c","chunk-471e3566":"4bae550c"}[e]+".css",i=s.p+o,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var l=a[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){l=f[c],u=l.getAttribute("data-href");if(u===o||u===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete r[e],d.parentNode.removeChild(d),n(a)},d.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[e]=0})));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,n){o=i[e]=[t,n]}));t.push(o[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var f=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",f.name="ChunkLoadError",f.type=o,f.request=r,n[1](f)}i[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0311":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-footer",{staticClass:"footerMenu"},[n("router-link",{staticClass:"home",attrs:{to:{name:"Home"}}}),n("router-link",{staticClass:"gift",attrs:{to:{name:"Gift"}}}),n("router-link",{staticClass:"scanner",attrs:{to:{name:"Scan"}}}),n("router-link",{staticClass:"landmark",attrs:{to:{name:"Store"}}}),n("router-link",{staticClass:"user",attrs:{to:{name:"More"}}})],1)},r=[],i={name:"TabBar",data:function(){return{}},created:function(){},mounted:function(){},methods:{}},a=i,c=n("2877"),s=Object(c["a"])(a,o,r,!1,null,"e1316d12",null);t["a"]=s.exports},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},2:function(e,t){},"22ee":function(e,t,n){e.exports=n.p+"img/search.f2646ebe.svg"},2395:function(e,t,n){},3:function(e,t){},"349c":function(e,t,n){"use strict";(function(e){n("99af"),n("fb6a"),n("d3b7"),n("25f0");var o=n("1c46"),r=n.n(o),i="aes-256-cfb",a="2oinakpeiy87ggla";t["a"]={encryptText:function(t){var n=r.a.createHash("sha256");n.update(a);var o=n.digest(),c=r.a.randomBytes(16),s=r.a.createCipheriv(i,o,c),l=[c,s.update(t,"utf8")];return l.push(s.final()),e.concat(l).toString("base64")},decryptText:function(t){var n=r.a.createHash("sha256");n.update(a);var o=n.digest(),c=e.from(t,"base64"),s=c.slice(0,16),l=c.slice(16),u=r.a.createDecipheriv(i,o,s),f=u.update(l,"","utf8");return f+=u.final("utf8"),f}}}).call(this,n("b639").Buffer)},"34fa":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o="SHOW_TOAST"},4:function(e,t){},4241:function(e,t,n){e.exports=n.p+"img/logo_nav.f5bdce98.svg"},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],a={name:"App",data:function(){return{}},created:function(){},mounted:function(){},methods:{}},c=a,s=(n("7c55"),n("2877")),l=Object(s["a"])(c,r,i,!1,null,null,null),u=l.exports,f=(n("d3b7"),n("8c4f")),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"BigPage is-vertical"},[n("navigation-bar"),n("router-view",{key:e.$route.fullPath}),n("tab-bar")],1)},p=[],m=n("641e"),h=n("0311"),g={name:"MainPage",components:{NavigationBar:m["a"],TabBar:h["a"]},data:function(){return{}},created:function(){},mounted:function(){},methods:{scrollToTop:function(){window.scrollTo(0,0)}}},b=g,y=Object(s["a"])(b,d,p,!1,null,"54674456",null),S=y.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view",{key:e.$route.fullPath})},w=[],v={name:"EmptyLayout",data:function(){return{}},created:function(){},mounted:function(){},methods:{}},k=v,_=Object(s["a"])(k,P,w,!1,null,"0e3ce135",null),C=_.exports;o["default"].use(f["a"]);var T=new f["a"]({base:"",routes:[{path:"/login",name:"Login",component:function(){return n.e("Login").then(n.bind(null,"5326"))}},{path:"/forget-pwd",name:"ForgetPwd",component:function(){return n.e("ForgetPwd").then(n.bind(null,"3e59"))}},{path:"/phone-verify",name:"PhoneVerify",component:function(){return n.e("PhoneVerify").then(n.bind(null,"7573"))}},{path:"/registered",name:"Registered",component:function(){return n.e("PhoneVerify").then(n.bind(null,"4f4c"))}},{path:"/home",component:C,children:[{path:"",name:"Home",component:function(){return Promise.all([n.e("Home~Store~Visit"),n.e("Home")]).then(n.bind(null,"9553"))},meta:{title:"首頁"}}]},{path:"/home",component:function(){return n.e("More").then(n.bind(null,"144f"))},children:[{path:"brand-wall",name:"BrandWall",component:function(){return n.e("BrandWall").then(n.bind(null,"5bc0"))},meta:{title:"品牌牆"}},{path:"visit",name:"Visit",component:function(){return Promise.all([n.e("Home~Store~Visit"),n.e("Visit")]).then(n.bind(null,"42f0"))},meta:{title:"快來串門子"}},{path:"my-store",name:"MyStore",component:function(){return n.e("MyStore").then(n.bind(null,"d1b1"))},meta:{title:"我的店家"}},{path:"comment-page/:id",name:"CommentPage",component:function(){return n.e("CommentPage").then(n.bind(null,"3232"))},meta:{title:"評論頁"}},{path:"article",name:"ArticlePage",component:function(){return n.e("ArticlePage").then(n.bind(null,"f218"))},meta:{title:""}},{path:"brand",name:"BrandPage",component:function(){return n.e("BrandPage").then(n.bind(null,"28a9"))}}]},{path:"/",component:S,children:[{path:"gift",name:"Gift",component:function(){return n.e("Gift").then(n.bind(null,"20a8"))},meta:{title:"禮物盒"}},{path:"scan",name:"Scan",component:function(){return n.e("Scan").then(n.bind(null,"9ea9"))},meta:{title:"掃碼"}},{path:"store",name:"Store",component:function(){return Promise.all([n.e("Home~Store~Visit"),n.e("Store")]).then(n.bind(null,"af29"))},meta:{title:"店家"}},{path:"more",name:"More",component:function(){return n.e("More").then(n.bind(null,"2b88"))},meta:{title:"個人中心"}}]},{path:"/more",component:function(){return n.e("More").then(n.bind(null,"144f"))},children:[{path:"business-card",name:"BusinessCard",component:function(){return n.e("BusinessCard").then(n.bind(null,"a7b6"))},meta:{title:"我的名片"}},{path:"privacy-policy",name:"PrivacyPolicy",component:function(){return n.e("PrivacyPolicy").then(n.bind(null,"9a67"))},meta:{title:"隱私權條款"}},{path:"setting",name:"Setting",component:function(){return n.e("Setting").then(n.bind(null,"3cf9"))},meta:{title:"APP設定"}},{path:"qr-code",name:"QrCode",component:function(){return n.e("QrCode").then(n.bind(null,"cd52"))},meta:{title:"QR通訊錄"}},{path:"edit-qr-code",name:"EditQrCode",component:function(){return n.e("EditQrCode").then(n.bind(null,"885f"))}},{path:"reset-password",name:"ResetPassword",component:function(){return n.e("ResetPassword").then(n.bind(null,"9e2b"))},meta:{title:"變更密碼"}},{path:"service",name:"Service",component:function(){return n.e("Service").then(n.bind(null,"8c4d"))},meta:{title:"客服中心"}},{path:"history",name:"History",component:function(){return n.e("History").then(n.bind(null,"61a8"))},meta:{title:"紀錄類"}},{path:"my-comment",name:"MyComment",component:function(){return n.e("MyComment").then(n.bind(null,"ba43"))},meta:{title:"我的評論"}},{path:"edit-profile",name:"EditProfile",component:function(){return n.e("EditProfile").then(n.bind(null,"30ea"))},meta:{title:"編輯個人資料"}},{path:"profile",name:"Profile",component:function(){return n.e("Profile").then(n.bind(null,"9a57"))},meta:{title:"編輯個人資料"}}]},{path:"/gift",component:function(){return n.e("More").then(n.bind(null,"144f"))},children:[{path:"all-branches",name:"Branches",component:function(){return n.e("chunk-0ace75fd").then(n.bind(null,"43d1"))}},{path:"transfer-coupon",name:"TransferCoupon",component:function(){return n.e("chunk-471e3566").then(n.bind(null,"8a56"))},meta:{title:"優惠轉贈"}},{path:"issue-date",name:"IssueDate",component:function(){return n.e("chunk-27396e0d").then(n.bind(null,"7b02"))},meta:{title:"發放日期"}},{path:"coupon-page",name:"CouponPage",component:function(){return n.e("chunk-44f5b086").then(n.bind(null,"0359"))},meta:{title:""}},{path:"store-map",name:"StoreMap",component:function(){return n.e("chunk-3b405e42").then(n.bind(null,"c1f8"))}}]}]}),E=n("2f62"),O={toast:{message:""}},x=n("ade3"),A=n("34fa"),M=Object(x["a"])({},A["a"],(function(e){e.loadingCounter+=1})),H={};o["default"].use(E["a"]);var B=new E["a"].Store({state:O,mutations:M,actions:H}),V=n("5c96"),R=n.n(V),N=(n("bf2d"),n("728f"),n("f9e3"),window.localStorage.getItem("admin_token")),I=window.localStorage.getItem("store_token"),L=(window.localStorage.getItem("admin_role_token"),window.localStorage.getItem("store_token_list")),j=window.localStorage.getItem("account"),q=window.localStorage.getItem("loginEventType"),W=window.localStorage.getItem("waiting_call_bookmark"),U=window.localStorage.getItem("waiting_call_pageMode"),Q={isAdminLogin:function(){return null!==N&&""!==N},setAdminToken:function(e){window.localStorage.setItem("admin_token",e+""),N=e},getAdminToken:function(){return N},setNumber:function(e){window.localStorage.setItem("account",e+""),j=e},getNumber:function(){return j},isStoreToken:function(){return null!==I&&""!==I},setLoginEventType:function(e){window.localStorage.setItem("loginEventType",e+""),q=e},getLoginEventType:function(){return q},setStoreToken:function(e){window.localStorage.setItem("store_token",e+""),I=e},getStoreToken:function(){return I},clearToken:function(){N="",window.localStorage.removeItem("admin_token"),I="",window.localStorage.removeItem("store_token"),j="",window.localStorage.removeItem("number"),q="",window.localStorage.removeItem("loginEventType")},setStoreTokenList:function(e){window.localStorage.setItem("store_token_list",e),L=e},getStoreTokenList:function(){return L},setWaitingCallBookmark:function(e){window.localStorage.setItem("waiting_call_bookmark",e),W=e},getWaitingCallBookmark:function(){return W},setwaitingCallPageMode:function(e){window.localStorage.setItem("waiting_call_pageMode",e),U=e},getWaitingCallPageMode:function(){return U}},J=(n("4160"),n("c975"),n("fb6a"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("96cf"),n("1da1")),F=n("349c"),$={db:null,init:function(){window.sqlitePlugin&&(this.openDatabase(),this.setupSchema())},openDatabase:function(){this.db=window.sqlitePlugin.openDatabase({name:"sqlite.db",location:"default",androidDatabaseProvider:"system"})},setupSchema:function(){this.db.transaction((function(e){e.executeSql("create table if not exists offline_data (action text, json text)"),e.executeSql("create table if not exists upload_data (id INTEGER NOT NULL PRIMARY KEY, action text, json text)"),e.executeSql("create table if not exists version (version text, createdAt datetime)"),e.executeSql("create table if not exists admin (id int, name text, twoPassword text)")}),(function(e){console.log("Create Transaction ERROR: "+e.message)}),(function(){console.log("Populated database OK")}))},executeSql:function(e,t){window.sqlitePlugin&&this.db.transaction((function(n){console.log(e),console.log(t),n.executeSql(e,t)}),(function(e){console.log("Transaction ERROR: "+e.message)}),(function(){console.log("Populated database OK")}))},transaction:function(e,t){window.sqlitePlugin&&this.db.transaction((function(n){e.forEach((function(e,o){n.executeSql(e,t[o])}))}),(function(e){console.log("Transaction ERROR: "+e.message)}),(function(){console.log("Populated database OK")}))},update:function(e,t){this.executeSql(e,t)},insert:function(e,t){this.executeSql(e,t)},delete:function(e,t){this.executeSql(e,t)},query:function(e,t,n){window.sqlitePlugin&&this.db.readTransaction((function(o){o.executeSql(e,t,(function(e,t){n(t)}),(function(e,t){console.log("SELECT error: "+t.message)}))}),(function(e){console.log("query transaction error: "+e.message)}),(function(){console.log("query transaction ok")}))}},D={csrfToken:Object({VUE_APP_MODE:"release",VUE_APP_API_HOST:"https://life.oinapp.com/api",VUE_APP_FILE_HOST:"https://file.oinapp.com",VUE_APP_QUESTIONNAIRE_HOST:"http://survey.oinapp.com",VUE_APP_SSE_HOST:"https://life.oinapp.com/sse",VUE_APP_WS_HOST:"wss://life.oinapp.com/ws",NODE_ENV:"production",BASE_URL:""}).VUE_APP_CSRF_TOKEN,FileHost:"https://file.oinapp.com/api",notSaveArray:["SignIn"],initCsrfToken:function(){var e=new XMLHttpRequest;e.open("GET",document.location,!1),e.send(null);var t=e.getAllResponseHeaders().split("\n");t.forEach((function(e){if(-1!==e.indexOf("x-csrf-token"))return this.csrfToken=e.substring(e.indexOf(":")+1),!1}))},getOS:function(){window.hasOwnProperty("cordova")&&console.log("getOS() => window.hasOwnProperty(cordova) = true");var e=window.navigator.userAgent,t=window.navigator.platform,n=["Macintosh","MacIntel","MacPPC","Mac68K"],o=["Win32","Win64","Windows","WinCE"],r=["iPhone","iPad","iPod"],i=null;return-1!==n.indexOf(t)?i="Mac OS":-1!==r.indexOf(t)?i="iOS":-1!==o.indexOf(t)?i="Windows":/Android/.test(e)?i="Android":!i&&/Linux/.test(t)&&(i="Linux"),console.log("getOS => os = "+i),i},post:function(e,t,n,o){window.hasOwnProperty("cordova")?$.query("select json from offline_data where action like ?",[e],(function(e){var t=e.rows.item(0).json,n=JSON.parse(t);o(n)})):this.send(e,t,n,o)},postWithAuthEncrypt:function(){var e=Array.prototype.slice.call(arguments),t=""===e[0][0]?e[1]:e[0][0],n=""===e[0][0]?F["a"].encryptText(JSON.stringify(e[2])):F["a"].encryptText(JSON.stringify(e[1])),o=""===e[0][0]?e[3]:e[2];this.post(t,n,"/auth",o)},postWithAuth:function(){var e=Array.prototype.slice.call(arguments),t=""===e[0][0]?e[1]:e[0][0],n=""===e[0][0]?JSON.stringify(e[2]):JSON.stringify(e[1]),o=""===e[0][0]?e[3]:e[2];this.post(t,n,"/auth",o)},postWithEncrypt:function(){var e=Array.prototype.slice.call(arguments),t=""===e[0][0]?e[1]:e[0][0],n=""===e[0][0]?F["a"].encryptText(JSON.stringify(e[2])):F["a"].encryptText(JSON.stringify(e[1])),o=""===e[0][0]?e[3]:e[2];this.post(t,n,"",o)},fetchWithAuthEncrypt:function(){var e=Array.prototype.slice.call(arguments),t=""===e[0][0]?e[1]:e[0][0],n=""===e[0][0]?F["a"].encryptText(JSON.stringify(e[2])):F["a"].encryptText(JSON.stringify(e[1])),o=""===e[0][0]?e[3]:e[2];this.send(t,n,"/auth",o)},fetchWithAuth:function(){var e=Array.prototype.slice.call(arguments),t=""===e[0][0]?e[1]:e[0][0],n=""===e[0][0]?JSON.stringify(e[2]):JSON.stringify(e[1]),o=""===e[0][0]?e[3]:e[2];this.send(t,n,"/auth",o)},fetchWithEncrypt:function(){var e=Array.prototype.slice.call(arguments),t=""===e[0][0]?e[1]:e[0][0],n=""===e[0][0]?F["a"].encryptText(JSON.stringify(e[2])):F["a"].encryptText(JSON.stringify(e[1])),o=""===e[0][0]?e[3]:e[2];this.send(t,n,"",o)},fetch:function(){var e=Array.prototype.slice.call(arguments),t=""===e[0][0]?e[1]:e[0][0],n=""===e[0][0]?JSON.stringify(e[2]):JSON.stringify(e[1]),o=""===e[0][0]?e[3]:e[2];this.send(t,n,"",o)},send:function(e,t,n,r){var i=this;return Object(J["a"])(regeneratorRuntime.mark((function a(){var c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return c=JSON.stringify({action:e,parameters:t}),a.next=3,fetch("https://life.oinapp.com/api"+n,{body:c,headers:new Headers({"Access-Control-Allow-Origin":"*","Content-Type":"application/json","Csrf-Token":""===i.csrfToken||"undefined"===typeof csrfToken?Object({VUE_APP_MODE:"release",VUE_APP_API_HOST:"https://life.oinapp.com/api",VUE_APP_FILE_HOST:"https://file.oinapp.com",VUE_APP_QUESTIONNAIRE_HOST:"http://survey.oinapp.com",VUE_APP_SSE_HOST:"https://life.oinapp.com/sse",VUE_APP_WS_HOST:"wss://life.oinapp.com/ws",NODE_ENV:"production",BASE_URL:""}).VUE_APP_CSRF_TOKEN:i.csrfToken,"Auth-Token":"/auth"===n?Q.getAdminToken():"","Store-Token":"/auth"===n?Q.getStoreToken():""}),method:"POST"}).then((function(e){return e.text()})).catch((function(){-1===i.notSaveArray.indexOf(e)&&"post"===i.method&&$.insert("insert into upload_data(action, json) values (?, ?)",[e,c])})).then((function(e){var t=e.replace("while(1);",""),n=JSON.parse(t);if(!n.status&&"logout"===n.message)return o["default"].prototype.$auth.clearToken(),void T.push({path:"/"});r(n)}));case 3:case"end":return a.stop()}}),a)})))()},uploadSend:function(e,t,n,r){var i=this;return Object(J["a"])(regeneratorRuntime.mark((function a(){var c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return c=new FormData,void 0===e[0]?c.append("file",e):e.forEach((function(e){c.append("file",e)})),c.append("folder",t),c.append("apiKey","41e1ac4a1ad16b11275cd9121b572225"),a.next=6,fetch(i.FileHost,{body:c,headers:new Headers({"Access-Control-Allow-Origin":"*"}),method:"POST"}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e.replace("while(1);",""));if(!t.status&&"logout"===t.message)return o["default"].prototype.$auth.clearToken(),void T.push({path:"/"});n(t)})).catch((function(e){r&&r(e)}));case 6:case"end":return a.stop()}}),a)})))()},fetchUpload:function(){var e=arguments,t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var o,r,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.url="",o=Array.prototype.slice.call(e),r=o[1],i=o[2],a=o[3],n.next=7,t.uploadSend(r.file,r.folder,i,a);case 7:case"end":return n.stop()}}),n)})))()}},G={sToken:"",uToken:"",token:"",socket:{},instance:function(){this.conn("",Array.prototype.slice.call(arguments))},setSToken:function(e){return this.sToken=e,this},setUToken:function(e){return this.uToken=e,this},setToken:function(e){return this.token=e,this},conn:function(e,t){var n=t[0][0],o="wss://life.oinapp.com/ws"+e+"/"+n+"?&s="+encodeURIComponent(this.sToken)+"&u="+encodeURIComponent(this.uToken)+"&token="+encodeURIComponent(this.token);this.socket=new WebSocket(o),t.length>=2&&(this.socket.onmessage=t[1]),t.length>=3&&(this.socket.onopen=t[2]),t.length>=4&&(this.socket.onerror=t[3]),5===t.length&&(this.socket.onclose=t[4])},send:function(e){this.socket.send(e)},close:function(){this.socket.close()}};o["default"].config.productionTip=!1,o["default"].use(R.a),o["default"].prototype.$auth=Q,o["default"].prototype.$http=D,o["default"].prototype.$crypto=F["a"],o["default"].prototype.$socket=G,o["default"].prototype.$sqlite=$,new o["default"]({el:"#app",store:B,router:T,render:function(e){return e(u)}}).$mount("#app")},6:function(e,t){},"641e":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-header",{staticClass:"app-header"},[o("el-row",{staticClass:"h-100 items-center",attrs:{type:"flex",justify:e.flexType}},[e._t("left",[e.noLeft?e._e():o("el-col",{attrs:{span:5}},[o("img",{staticClass:"logo",attrs:{src:n("4241"),alt:""}})])]),e._t("center",[e.noLeft?e._e():o("el-col",{staticClass:"text-center",attrs:{span:12}},[o("span",[e._v(e._s(e.title))])])]),e._t("right",[e.noRight?e._e():o("el-col",{staticClass:"text-right",attrs:{span:7}},[e.noSearch?e._e():o("img",{staticClass:"icon",attrs:{src:n("22ee"),alt:""}}),o("img",{staticClass:"icon ball",attrs:{src:n("6554"),alt:""}})])])],2)],1)},r=[],i={name:"NavigationBar",props:{noLeft:Boolean,noRight:Boolean,noSearch:Boolean},computed:{title:function(){return this.$route.meta.title},flexType:{get:function(){return this.noRight&&this.noLeft?"center":this.noLeft?"end":this.noRight?"start":"space-between"}}},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},a=i,c=(n("ae72"),n("2877")),s=Object(c["a"])(a,o,r,!1,null,"615fbe62",null);t["a"]=s.exports},6554:function(e,t,n){e.exports=n.p+"img/balls.b8b38cfa.svg"},7:function(e,t){},"728f":function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},8:function(e,t){},9:function(e,t){},ae72:function(e,t,n){"use strict";n("e71a")},bf2d:function(e,t,n){},e71a:function(e,t,n){}});
//# sourceMappingURL=app.ebef5d10.js.map